---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_expires_at","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"created_at":"2023-06-21T09:36:48.480863Z","description":"","editable":true,"id":"8b43420f-f428-4888-8990-ece44d5ce6e1","name":"tf_tests_app_expires_at","nb_api_keys":0,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-06-21T09:36:48.480863Z"}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 67ee9318-a906-442c-bdcd-02fd977e4eec
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/8b43420f-f428-4888-8990-ece44d5ce6e1
    method: GET
  response:
    body: '{"created_at":"2023-06-21T09:36:48.480863Z","description":"","editable":true,"id":"8b43420f-f428-4888-8990-ece44d5ce6e1","name":"tf_tests_app_expires_at","nb_api_keys":0,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-06-21T09:36:48.480863Z"}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 97347162-da2d-4dc7-908b-88aa3cce3320
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"8b43420f-f428-4888-8990-ece44d5ce6e1","expires_at":"2025-07-06T09:00:00Z","default_project_id":null,"description":"tf_tests_expires"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCWA4C474N0R5HCJ1QJ3","application_id":"8b43420f-f428-4888-8990-ece44d5ce6e1","created_at":"2023-06-21T09:36:48.689632Z","creation_ip":"51.159.73.9","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":"tf_tests_expires","editable":true,"expires_at":"2025-07-06T09:00:00Z","secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-06-21T09:36:48.689632Z"}'
    headers:
      Content-Length:
      - "404"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 385e6038-b1ce-478c-a9cf-012d078f28fe
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWA4C474N0R5HCJ1QJ3
    method: GET
  response:
    body: '{"access_key":"SCWA4C474N0R5HCJ1QJ3","application_id":"8b43420f-f428-4888-8990-ece44d5ce6e1","created_at":"2023-06-21T09:36:48.689632Z","creation_ip":"51.159.73.9","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":"tf_tests_expires","editable":true,"expires_at":"2025-07-06T09:00:00Z","secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-06-21T09:36:48.689632Z"}'
    headers:
      Content-Length:
      - "370"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 96fc5987-1830-47ac-9b5f-ec94bee43a35
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWA4C474N0R5HCJ1QJ3
    method: GET
  response:
    body: '{"access_key":"SCWA4C474N0R5HCJ1QJ3","application_id":"8b43420f-f428-4888-8990-ece44d5ce6e1","created_at":"2023-06-21T09:36:48.689632Z","creation_ip":"51.159.73.9","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":"tf_tests_expires","editable":true,"expires_at":"2025-07-06T09:00:00Z","secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-06-21T09:36:48.689632Z"}'
    headers:
      Content-Length:
      - "370"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 86275dc9-0cb2-471c-b52e-b8f8e7792a83
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/8b43420f-f428-4888-8990-ece44d5ce6e1
    method: GET
  response:
    body: '{"created_at":"2023-06-21T09:36:48.480863Z","description":"","editable":true,"id":"8b43420f-f428-4888-8990-ece44d5ce6e1","name":"tf_tests_app_expires_at","nb_api_keys":1,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-06-21T09:36:48.480863Z"}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 63dab681-b8b8-405e-8f47-dd46f726e678
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWA4C474N0R5HCJ1QJ3
    method: GET
  response:
    body: '{"access_key":"SCWA4C474N0R5HCJ1QJ3","application_id":"8b43420f-f428-4888-8990-ece44d5ce6e1","created_at":"2023-06-21T09:36:48.689632Z","creation_ip":"51.159.73.9","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":"tf_tests_expires","editable":true,"expires_at":"2025-07-06T09:00:00Z","secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-06-21T09:36:48.689632Z"}'
    headers:
      Content-Length:
      - "370"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0f4de3c7-dc36-4f70-90ee-7e7476aff246
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWA4C474N0R5HCJ1QJ3
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 79ac1f4d-899a-45a7-8837-6a72910b3d75
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/8b43420f-f428-4888-8990-ece44d5ce6e1
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5a63d576-f827-4f5b-94b6-5e15eff2d8cd
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWA4C474N0R5HCJ1QJ3
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCWA4C474N0R5HCJ1QJ3","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7ba37790-8053-480d-90a1-f71388a0e41d
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/8b43420f-f428-4888-8990-ece44d5ce6e1
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"iam_application","resource_id":"8b43420f-f428-4888-8990-ece44d5ce6e1","type":"not_found"}'
    headers:
      Content-Length:
      - "136"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Jun 2023 09:36:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 629bd82c-2448-44f4-83ae-acf0de456d12
    status: 404 Not Found
    code: 404
    duration: ""
