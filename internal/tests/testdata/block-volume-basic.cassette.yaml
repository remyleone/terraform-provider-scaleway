---
version: 1
interactions:
- request:
    body: '{"name":"test-block-volume-basic","perf_iops":5000,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","from_empty":{"size":20000000000},"tags":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes
    method: POST
  response:
    body: '{"created_at":"2023-11-23T12:57:56.029560Z","id":"70340ff3-ef35-4bdf-92ae-735cea13839f","last_detached_at":null,"name":"test-block-volume-basic","parent_snapshot_id":null,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","references":[],"size":20000000000,"specs":{"class":"sbs","perf_iops":5000},"status":"creating","tags":[],"type":"sbs_5k","updated_at":"2023-11-23T12:57:56.029560Z","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "406"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:56 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5f810b60-d1ee-449d-8eca-67630b9713ca
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: GET
  response:
    body: '{"created_at":"2023-11-23T12:57:56.029560Z","id":"70340ff3-ef35-4bdf-92ae-735cea13839f","last_detached_at":null,"name":"test-block-volume-basic","parent_snapshot_id":null,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","references":[],"size":20000000000,"specs":{"class":"sbs","perf_iops":5000},"status":"available","tags":[],"type":"sbs_5k","updated_at":"2023-11-23T12:57:56.111800Z","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "407"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:56 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fa568a97-5db9-490f-a5e3-3cd2f78d550c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: GET
  response:
    body: '{"created_at":"2023-11-23T12:57:56.029560Z","id":"70340ff3-ef35-4bdf-92ae-735cea13839f","last_detached_at":null,"name":"test-block-volume-basic","parent_snapshot_id":null,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","references":[],"size":20000000000,"specs":{"class":"sbs","perf_iops":5000},"status":"available","tags":[],"type":"sbs_5k","updated_at":"2023-11-23T12:57:56.111800Z","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "407"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:56 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7f451e77-f233-4944-a689-b6d766f22866
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: GET
  response:
    body: '{"created_at":"2023-11-23T12:57:56.029560Z","id":"70340ff3-ef35-4bdf-92ae-735cea13839f","last_detached_at":null,"name":"test-block-volume-basic","parent_snapshot_id":null,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","references":[],"size":20000000000,"specs":{"class":"sbs","perf_iops":5000},"status":"available","tags":[],"type":"sbs_5k","updated_at":"2023-11-23T12:57:56.111800Z","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "407"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:56 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 80de8e3d-2047-4ff7-9562-8a49509ce199
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: GET
  response:
    body: '{"created_at":"2023-11-23T12:57:56.029560Z","id":"70340ff3-ef35-4bdf-92ae-735cea13839f","last_detached_at":null,"name":"test-block-volume-basic","parent_snapshot_id":null,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","references":[],"size":20000000000,"specs":{"class":"sbs","perf_iops":5000},"status":"available","tags":[],"type":"sbs_5k","updated_at":"2023-11-23T12:57:56.111800Z","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "407"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:56 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bcf58770-026b-43ac-ada1-87bba0d2dff5
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: GET
  response:
    body: '{"created_at":"2023-11-23T12:57:56.029560Z","id":"70340ff3-ef35-4bdf-92ae-735cea13839f","last_detached_at":null,"name":"test-block-volume-basic","parent_snapshot_id":null,"project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","references":[],"size":20000000000,"specs":{"class":"sbs","perf_iops":5000},"status":"available","tags":[],"type":"sbs_5k","updated_at":"2023-11-23T12:57:56.111800Z","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "407"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:57 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7ab624b0-22cd-4e79-9691-dc658876b050
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:57 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7752db6e-419a-4669-bc3d-3b2d4adecb5c
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"volume","resource_id":"70340ff3-ef35-4bdf-92ae-735cea13839f","type":"not_found"}'
    headers:
      Content-Length:
      - "127"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:57 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 83836d80-9c5c-4314-bc81-9441c6966ac8
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/block/v1alpha1/zones/fr-par-1/volumes/70340ff3-ef35-4bdf-92ae-735cea13839f
    method: DELETE
  response:
    body: '{"expired_since":"2023-11-23T12:57:57.398827Z","message":"resource has
      expired","resource":"volume","resource_id":"70340ff3-ef35-4bdf-92ae-735cea13839f","type":"expired"}'
    headers:
      Content-Length:
      - "170"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Nov 2023 12:57:57 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3cd31ec8-6d9b-40f2-a472-dc72503557db
    status: 410 Gone
    code: 410
    duration: ""
